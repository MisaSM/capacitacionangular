<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2>Usuarios</h2>
      <button pButton type="button" label="Nuevo Usuario" icon="pi pi-plus" class="btn btn-primary" (click)="openDialog()"></button>
    </div>
  
    <!-- Tabla de Usuarios -->
    <div class="table-responsive">
      <p-table [value]="usuarios" class="table table-striped table-hover">
        <ng-template pTemplate="header">
          <tr>
            <th>Nombre</th>
            <th>Email</th>
            <th class="text-center">Acciones</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-usuario>
          <tr [@fadeInOut]>
            <td>{{ usuario.nombre }}</td>
            <td>{{ usuario.email }}</td>
            <td class="text-center">
              <button pButton type="button" icon="pi pi-pencil" class="btn btn-sm btn-warning me-2" (click)="openDialog(usuario)" label="Editar"></button>
              <button pButton type="button" icon="pi pi-trash" class="btn btn-sm btn-danger" (click)="deleteUsuario(usuario.id)" label="Eliminar"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  
  <!-- Modal de Usuario (PrimeNG) -->
  <p-dialog header="Usuario" [(visible)]="displayDialog" [modal]="true" [closable]="false" [style]="{width: '400px'}">
    <form [formGroup]="usuarioForm" (ngSubmit)="saveUsuario()">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre</label>
        <input id="nombre" pInputText formControlName="nombre" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input id="email" pInputText formControlName="email" class="form-control" />
      </div>
      <div class="d-flex justify-content-end">
        <button pButton type="button" label="Cancelar" class="btn btn-secondary me-2" (click)="displayDialog=false"></button>
        <button pButton type="submit" label="Guardar" class="btn btn-primary" [disabled]="!usuarioForm.valid"></button>
      </div>
    </form>
  </p-dialog>
  